<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css}">
    <title>Document</title>
</head>
<body>
<div class="container">
    <h2 style="text-align: center">Med application</h2>

<!--of canvac start-->
    <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Add patient</button>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasTopLabel">Add Patient form</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <form action="/add/patient" method="post" class="ml-5 p-3 border">
                <div class="m-2">
                    <label for="full-name">Full name</label>
                    <input type="text" class="form-control" name="fullName" id="full-name">
                </div>
                <div class="m-2">
                    <label for="adress">Adress</label>
                    <input type="text" class="form-control" name="adress" id="adress">
                </div>
                <div class="m-2">
                    <label for="birthday">Birthday</label>
                    <input type="text" class="form-control" name="birthday" id="birthday">
                </div>
                <div class="m-2">
                    <label for="diagnose">Diagnose</label>
                    <textarea type="text" class="form-control" name="diagnose" id="diagnose"></textarea>
                </div>
                <div class="m-2">
                    <label for="phone">Phone</label>
                    <input type="text" class="form-control" name="phone" id="phone">
                </div>
                <button class="btn btn-info" type="submit">Add patient</button>
            </form>
        </div>
    </div>
</div>
<!-- of canvas end -->
<hr>
<!--table strart-->
<h2 style="text-align: center; color: mediumblue">Patients</h2>
<table class="table table-hover">
    <thead>
    <tr>
        <td>id</td>
        <td>FullName</td>
        <td>Adress</td>
        <td>Birthday</td>
        <td>Diagnose</td>
        <td>Phone</td>
        <td>Action</td>
    </tr>
    </thead>
    <tbody>
    <div th:each="patient:${patients}">
        <tr>
            <td th:text="${patient.id}"></td>
            <td th:text="${patient.fullName}"></td>
            <td th:text="${patient.adress}"></td>
            <td th:text="${patient.birthday}"></td>
            <td th:text="${patient.diagnose}"></td>
            <td th:text="${patient.phone}"></td>
            <td class="d-flex">
                <a class="btn btn-outline-primary m-2" th:href="'/patient/update/' + ${patient.id}">Edit</a>
                <a class="btn btn-outline-danger m-2" th:href="'/patient/delete/' + ${patient.id}" onclick="check()">Delete</a>
            </td>
        </tr>
    </div>
    </tbody>
</table>
<!--table end-->


<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js}"></script>
</body>
</html>